(function(){"use strict";var e={7279:function(e,t,n){var s=n(9242),o=n(3396);const a={lang:"en"},r=(0,o._)("head",null,[(0,o._)("meta",{charset:"UTF-8"}),(0,o._)("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),(0,o._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o._)("title",null,"DivideIt")],-1),l=(0,o._)("nav",{class:"navbar navbar-dark bg-dark fixed-top"},[(0,o._)("div",{class:"container-fluid"},[(0,o._)("a",{class:"navbar-brand",href:"/"},"DivideIt")])],-1),i={class:"container"};function c(e,t,n,s,c,u){const p=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("html",a,[r,(0,o._)("body",null,[l,(0,o._)("div",i,[(0,o.Wm)(p)])])])}var u={name:"App",components:{}},p=n(89);const d=(0,p.Z)(u,[["render",c]]);var m=d,h=n(2483),b=n(7139);const _=(0,o._)("h2",null,"Comptes partagés existants",-1),g={key:0,class:"table table-hover table-striped"},f=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Nom"),(0,o._)("th",{scope:"col"},"Description"),(0,o._)("th",{scope:"col"},"Date Création")])],-1),v=["onClick"],D={key:1},y=(0,o._)("p",null,"Aucun compte n'est enregistré.",-1),w=[y],I=(0,o._)("br",null,null,-1),x=(0,o._)("hr",null,null,-1),S=(0,o._)("br",null,null,-1),C=(0,o._)("h2",null,"Création du nouveau compte",-1),k={class:"input-group mb-3"},M=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text",id:"basic-addon1"},"Nom du compte")],-1),N={class:"input-group"},O=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text"},"Description")],-1),P=(0,o._)("br",null,null,-1),L={key:0,class:"alert alert-danger",role:"alert"},j=(0,o._)("p",{class:"mb-0"},"Vous devez remplir tous les champs!",-1),z=[j];function A(e,t,n,a,r,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",null,[_,0!=r.comptePartage.length?((0,o.wg)(),(0,o.iD)("table",g,[f,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.comptePartage,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id,class:"pointer",onClick:t=>l.changeRoute("Members",e.id)},[(0,o._)("td",null,(0,b.zw)(e.name),1),(0,o._)("td",null,(0,b.zw)(e.description),1),(0,o._)("td",null,(0,b.zw)(e.date),1)],8,v)))),128))])])):((0,o.wg)(),(0,o.iD)("div",D,w))]),I,x,S,(0,o._)("div",null,[C,(0,o._)("div",k,[M,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.NomCompte=e),type:"text",class:"form-control",placeholder:"Nom","aria-label":"Nom","aria-describedby":"basic-addon1"},null,512),[[s.nr,r.NomCompte]])]),(0,o._)("div",N,[O,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.DescriptionCompte=e),placeholder:"Description",class:"form-control","aria-label":"description"},null,512),[[s.nr,r.DescriptionCompte]])]),P,(0,o._)("button",{onClick:t[2]||(t[2]=(0,s.iM)((e=>l.creationComptePartage()),["prevent"])),type:"button",class:"btn btn-success"},"Créer")]),1==r.erreur?((0,o.wg)(),(0,o.iD)("div",L,z)):(0,o.kq)("",!0)])}n(7658);var J={name:"CreateSharedAccount",data(){return{NomCompte:"",DescriptionCompte:"",comptePartage:[],IdCompte:null,erreur:!1}},created(){this.comptePartage=JSON.parse(localStorage.getItem("sharedAccounts"))||[]},methods:{creationComptePartage(){let e=this.DateDuJour();if(""!=this.NomCompte&&""!=this.DescriptionCompte){const t={id:this.comptePartage.length+1,name:this.NomCompte,description:this.DescriptionCompte,date:e};this.comptePartage.push(t),localStorage.setItem("sharedAccounts",JSON.stringify(this.comptePartage)),this.NomCompte="",this.DescriptionCompte=""}else this.erreur=!0},DateDuJour(){const e=new Date,t=e.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"});return t},changeRoute(e,t){this.$router.push({name:e,params:{account_id:t}})}}};const U=(0,p.Z)(J,[["render",A]]);var E=U;const B=(0,o._)("h3",null,"Liste des Membres de ce compte partagé",-1),V={key:0,class:"table"},H=(0,o._)("thead",{class:"thead-dark"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Libelle"),(0,o._)("th",{scope:"col"},"Dépenses"),(0,o._)("th",{scope:"col"},"Supprimer")])],-1),T=["onClick"],Y={key:1},Z=(0,o._)("br",null,null,-1),$=(0,o._)("br",null,null,-1),K=(0,o._)("h3",null,"Ajouter un membre",-1),F={class:"input-group mb-3"},R=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text",id:"basic-addon1"},"Nom")],-1),W=(0,o._)("hr",null,null,-1),q=(0,o._)("hr",null,null,-1);function X(e,t,n,a,r,l){const i=(0,o.up)("Expenses"),c=(0,o.up)("Balance");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o._)("h1",null,"Compte "+(0,b.zw)(this.compte.name),1),B,0!=r.membres.length?((0,o.wg)(),(0,o.iD)("table",V,[H,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.membres,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.name},[(0,o._)("td",null,(0,b.zw)(e.name),1),(0,o._)("td",null,(0,b.zw)(e.totalExpenses),1),(0,o._)("td",null,[(0,o._)("button",{class:"btn btn-danger",onClick:t=>l.suppressionMembre(e.name,e.accountId)},"x",8,T)])])))),128))])])):((0,o.wg)(),(0,o.iD)("p",Y," Aucun membre ")),Z,$,K,(0,o.Uk)("account "),(0,o._)("div",F,[R,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.nom=e),type:"text",class:"form-control",placeholder:"Nom","aria-label":"Nom","aria-describedby":"basic-addon1"},null,512),[[s.nr,r.nom]])]),(0,o._)("button",{class:"btn btn-success",type:"button",onClick:t[1]||(t[1]=(0,s.iM)((e=>l.ajoutMembre()),["prevent"]))},"Ajouter")]),W,(0,o._)("div",null,[(0,o.Wm)(i,{"account-id":r.accountId},null,8,["account-id"])]),q,(0,o._)("div",null,[(0,o.Wm)(c,{"account-id":r.accountId},null,8,["account-id"])])],64)}const G=(0,o._)("h2",null,"Dépenses",-1),Q={key:0,class:"table table-striped"},ee=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Payeur"),(0,o._)("th",{scope:"col"},"Libéllé"),(0,o._)("th",{scope:"col"},"Prix"),(0,o._)("th",{scope:"col"},"Date")])],-1),te={key:1},ne=(0,o._)("h3",null,"Ajouter une dépense",-1),se={class:"input-group mb-3"},oe=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text",id:"basic-addon1"},"Payeur")],-1),ae=["value"],re={class:"input-group mb-3"},le=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text",id:"basic-addon1"},"Libéllé")],-1),ie={class:"input-group mb-3"},ce=(0,o._)("div",{class:"input-group-prepend"},[(0,o._)("span",{class:"input-group-text",id:"basic-addon1"},"Prix")],-1);function ue(e,t,n,a,r,l){return(0,o.wg)(),(0,o.iD)("div",null,[G,0!=r.depenses.length?((0,o.wg)(),(0,o.iD)("table",Q,[ee,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.depenses,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,b.zw)(e.depense),1),(0,o._)("td",null,(0,b.zw)(e.libelle),1),(0,o._)("td",null,(0,b.zw)(e.prix),1),(0,o._)("td",null,(0,b.zw)(e.date),1)])))),128))])])):((0,o.wg)(),(0,o.iD)("p",te," Aucune dépense ")),ne,(0,o._)("div",se,[oe,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>r.depense=e),id:"payer"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.membres,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.name,value:e.name},(0,b.zw)(e.name),9,ae)))),128))],512),[[s.bM,r.depense]])]),(0,o._)("div",re,[le,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.libelle=e),type:"text",class:"form-control",placeholder:"Libéllé","aria-label":"Libéllé","aria-describedby":"basic-addon1"},null,512),[[s.nr,r.libelle]])]),(0,o._)("div",ie,[ce,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.prix=e),type:"number",class:"form-control","aria-label":"Price","aria-describedby":"basic-addon1"},null,512),[[s.nr,r.prix]])]),(0,o._)("button",{class:"btn btn-success",type:"button",onClick:t[3]||(t[3]=(0,s.iM)((e=>l.ajoutDepense()),["prevent"]))},"Ajouter")])}var pe={name:"ExPenses",props:{accountId:String},data(){return{depense:"",libelle:"",prix:0,depenses:[],membres:[],totalDepenses:[],account:this.accountId}},created(){let e=JSON.parse(localStorage.getItem("expenses"))||[],t=JSON.parse(localStorage.getItem("members"))||[];this.totalDepenses=e,this.depenses=e.filter((e=>e.accountId==this.accountId))||[],this.membres=t.filter((e=>e.accountId==this.accountId))||[]},methods:{DateDuJour(){const e=new Date,t=e.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"});return t},ajoutDepense(){if(!this.depense||!this.libelle||!this.prix)return;let e=this.DateDuJour();const t={id:Date.now(),accountId:this.accountId,depense:this.depense,libelle:this.libelle,prix:this.prix,date:e};this.depenses.push(t),this.totalDepenses.push(t),localStorage.setItem("expenses",JSON.stringify(this.totalDepenses));const n=this.membres.find((e=>e.name===t.depense));n.totalDepenses+=t.price,this.depense="",this.libelle="",this.prix=0,this.$forceUpdate}}};const de=(0,p.Z)(pe,[["render",ue]]);var me=de;const he=e=>((0,o.dD)("data-v-c96004ee"),e=e(),(0,o.Cn)(),e),be=he((()=>(0,o._)("h2",null,"Balance des dépenses",-1))),_e={key:0,class:"table"},ge=he((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Nom"),(0,o._)("th",{scope:"col"},"Dépenses"),(0,o._)("th",{scope:"col"},"Solde")])],-1))),fe={key:1};function ve(e,t,n,s,a,r){return(0,o.wg)(),(0,o.iD)("div",null,[be,(0,o._)("p",null,"Total dépensé : "+(0,b.zw)(r.totalDepense),1),0!=a.depenses.length?((0,o.wg)(),(0,o.iD)("table",_e,[ge,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.membres,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.name},[(0,o._)("td",null,(0,b.zw)(e.name),1),(0,o._)("td",null,(0,b.zw)(r.depenseMembre(e.name)),1),(0,o._)("td",{class:(0,b.C_)({bien:e.balance>=0,credit:e.balance<0})},(0,b.zw)(r.totalBalanceMembre(e)),3)])))),128))])])):((0,o.wg)(),(0,o.iD)("p",fe," Aucune dépense"))])}var De={name:"BaLance",props:{accountId:String},data(){return{membres:[],depenses:[]}},created(){this.membres=JSON.parse(localStorage.getItem("members")).filter((e=>e.accountId==this.accountId))||[],this.depenses=JSON.parse(localStorage.getItem("expenses")).filter((e=>e.accountId==this.accountId))||[]},computed:{totalDepense(){let e=0;for(const t of this.depenses)e+=t.price;return e}},methods:{depenseMembre(e){let t=this.depenses.filter((t=>t.payer==e)),n=0;for(const s of t)n+=s.price;return n},totalBalanceMembre(e){return this.depenseMembre(e.name)-this.totalDepense/this.membres.length}}};const ye=(0,p.Z)(De,[["render",ve],["__scopeId","data-v-c96004ee"]]);var we=ye,Ie={name:"MemBers",components:{Expenses:me,Balance:we},data(){return{nom:"",membres:[],tousLesMembres:[],accountId:this.$route.params.account_id,compte:null}},created(){this.compte=JSON.parse(localStorage.getItem("sharedAccounts")).find((e=>e.id==this.accountId)),this.tousLesMembres=JSON.parse(localStorage.getItem("members"))||[];let e=[];this.tousLesMembres.forEach((t=>{t.accountId==this.accountId&&e.push(t)})),this.membres=e},methods:{ajoutMembre(){if(this.nom)if(void 0!=this.tousLesMembres.find((e=>e.name==this.name&&e.accountId==this.accountId)))alert("Member existe déja");else{const e={accountId:this.$route.params.account_id,name:this.nom,totalExpenses:0};this.tousLesMembres.push(e),localStorage.setItem("members",JSON.stringify(this.tousLesMembres)),this.membres.push(e),this.nom="",this.$forceUpdate,location.replace(location.href)}},suppressionMembre(e,t){const n=this.tousLesMembres.findIndex((n=>n.name===e&&n.accountId==t));this.tousLesMembres.splice(n,1),this.membres.splice(n,1),localStorage.setItem("members",JSON.stringify(this.tousLesMembres)),this.$forceUpdate,location.replace(location.href)}}};const xe=(0,p.Z)(Ie,[["render",X]]);var Se=xe;const Ce=[{path:"/",name:"SharedAccount",component:E},{path:"/accounts/:account_id",name:"Members",component:Se},{path:"/Addexpenses",name:"Expenses",component:me},{path:"/balance",name:"Balance",component:we}],ke=(0,h.p7)({history:(0,h.PO)(),routes:Ce});var Me=ke,Ne=n(7722),Oe=n(5654),Pe=n.n(Oe);(0,s.ri)(m).use(Me,Ne.Z,Pe()).mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,a){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],o=e[u][1],a=e[u][2];for(var l=!0,i=0;i<s.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[i])}))?s.splice(i--,1):(l=!1,a<r&&(r=a));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,a,r=s[0],l=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var u=i(n)}for(t&&t(s);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},s=self["webpackChunkappli_tricountv3"]=self["webpackChunkappli_tricountv3"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(7279)}));s=n.O(s)})();
//# sourceMappingURL=app.e37a61eb.js.map